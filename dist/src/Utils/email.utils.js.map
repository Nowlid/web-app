{"version":3,"file":"email.utils.js","sourceRoot":"","sources":["../../../src/Utils/email.utils.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+CAAiC;AAEjC,+CAAsC;AAEtC,MAAM,CAAC,MAAM,EAAE,CAAC;AAST,KAAK,UAAU,QAAQ,CAAC,OAAoB;IACjD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC;QAAE,OAAO;IAC9G,MAAM,OAAO,GAAG,IAAI,qBAAM,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;IAChH,MAAM,IAAI,GAAuB;QAC/B,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE;oBACJ,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;oBACnC,IAAI,EAAE,QAAQ;iBACf;gBACD,QAAQ,EAAE,OAAO,CAAC,QAAQ;gBAC1B,OAAO,EAAE,OAAO,CAAC,OAAO;gBACxB,QAAQ,EAAE,OAAO,CAAC,QAAQ;gBAC1B,EAAE,EAAE;oBACF;wBACE,KAAK,EAAE,OAAO,CAAC,KAAK;wBACpB,IAAI,EAAE,MAAM;qBACb;iBACF;aACF;SACF;KACF,CAAC;IAEF,MAAM,MAAM,GAA4C,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAEtH,OAAO,MAAM,CAAC,IAAI,CAAC;AACrB,CAAC;AA1BD,4BA0BC","sourcesContent":["import * as dotenv from 'dotenv';\nimport type { LibraryResponse, SendEmailV3_1 } from 'node-mailjet';\nimport { Client } from 'node-mailjet';\n\ndotenv.config();\n\ninterface OptionsMail {\n  email: string;\n  htmlPart: string;\n  subject: string;\n  textPart: string;\n}\n\nexport async function sendMail(options: OptionsMail): Promise<SendEmailV3_1.Response | undefined> {\n  if (!process.env['MAILJET_EMAIL'] || !process.env['MAILJET_PUBLIC'] || !process.env['MAILJET_SECRET']) return;\n  const mailjet = new Client({ apiKey: process.env['MAILJET_PUBLIC'], apiSecret: process.env['MAILJET_SECRET'] });\n  const data: SendEmailV3_1.Body = {\n    Messages: [\n      {\n        From: {\n          Email: process.env['MAILJET_EMAIL'],\n          Name: 'Nowlid'\n        },\n        HTMLPart: options.htmlPart,\n        Subject: options.subject,\n        TextPart: options.textPart,\n        To: [\n          {\n            Email: options.email,\n            Name: 'User'\n          }\n        ]\n      }\n    ]\n  };\n\n  const result: LibraryResponse<SendEmailV3_1.Response> = await mailjet.post('send', { version: 'v3.1' }).request(data);\n\n  return result.body;\n}\n"]}